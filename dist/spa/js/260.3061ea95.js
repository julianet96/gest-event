"use strict";(globalThis["webpackChunkgest_event"]=globalThis["webpackChunkgest_event"]||[]).push([[260],{2260:(e,l,t)=>{t.r(l),t.d(l,{default:()=>D});var a=t(1758),n=t(8790);const o={class:"flex full-width"};function i(e,l,t,i,d,r){const s=(0,a.g2)("q-item-label"),c=(0,a.g2)("q-item-section"),u=(0,a.g2)("q-btn"),g=(0,a.g2)("q-btn-group"),v=(0,a.g2)("q-item"),b=(0,a.g2)("q-list"),k=(0,a.g2)("q-page-sticky"),m=(0,a.g2)("q-avatar"),f=(0,a.g2)("q-card-section"),h=(0,a.g2)("q-card-actions"),p=(0,a.g2)("q-card"),F=(0,a.g2)("q-dialog"),_=(0,a.g2)("q-page"),C=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(_,null,{default:(0,a.k6)((()=>[l[8]||(l[8]=(0,a.Lk)("div",{class:"text-h5 bg-secondary titelEvent q-mb-xs"},"Listado de eventos",-1)),(0,a.Lk)("div",o,[(0,a.bF)(b,{class:"full-width"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.events,(t=>((0,a.uX)(),(0,a.Wv)(v,{class:(0,n.C4)(t.class)},{default:(0,a.k6)((()=>[(0,a.bF)(c,{onClick:l=>e.goToEvent(t.hashEvent)},{default:(0,a.k6)((()=>[0==t.eventConfirmed?((0,a.uX)(),(0,a.Wv)(s,{key:0,caption:""},{default:(0,a.k6)((()=>l[4]||(l[4]=[(0,a.eW)("Borrador")]))),_:1})):(0,a.Q3)("",!0),(0,a.bF)(s,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(t.eventName),1)])),_:2},1024)])),_:2},1032,["onClick"]),(0,a.bF)(c,{onClick:l=>e.goToEvent(t.hashEvent)},{default:(0,a.k6)((()=>[(0,a.bF)(s,{caption:""},{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(t.eventStringDate),1)])),_:2},1024),(0,a.bF)(s,{caption:""},{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(t.eventTime),1)])),_:2},1024)])),_:2},1032,["onClick"]),(0,a.bF)(c,{side:""},{default:(0,a.k6)((()=>[(0,a.bF)(g,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,{color:"primary",icon:"upload_file",size:"sm",onClick:l=>e.openLoadingSheet(t)},null,8,["onClick"]),(0,a.bF)(u,{color:"warning",icon:"edit",size:"sm"}),(0,a.bF)(u,{color:"red",icon:"delete",size:"sm",onClick:l=>e.askToDelete(t.id)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["class"])))),256))])),_:1})]),(0,a.bF)(k,{position:"bottom-right",offset:[18,18]},{default:(0,a.k6)((()=>[(0,a.bF)(u,{fab:"",icon:"add",color:"accent",onClick:l[0]||(l[0]=l=>e.newEvent())})])),_:1}),(0,a.bF)(F,{modelValue:e.deleteEventModal,"onUpdate:modelValue":l[1]||(l[1]=l=>e.deleteEventModal=l),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(f,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{icon:"warning",color:"red","text-color":"white"}),l[5]||(l[5]=(0,a.Lk)("span",{class:"q-ml-sm"},"Quieres eliminar el evento ?.",-1))])),_:1}),(0,a.bF)(h,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(u,{flat:"",label:"Eliminar",color:"red",onClick:e.deleteRow},null,8,["onClick"]),[[C]]),(0,a.bo)((0,a.bF)(u,{flat:"",label:"Cancelar",color:"primary"},null,512),[[C]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(F,{modelValue:e.newLoadingSheetModal,"onUpdate:modelValue":l[2]||(l[2]=l=>e.newLoadingSheetModal=l),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(f,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{icon:"question_mark",color:"secondary","text-color":"white"}),l[6]||(l[6]=(0,a.Lk)("span",{class:"q-ml-sm"},"No hay ninguna hoja de cargas creada desea crear una ?.",-1))])),_:1}),(0,a.bF)(h,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(u,{flat:"",label:"Crear",color:"primary",onClick:e.deleteRow},null,8,["onClick"]),[[C]]),(0,a.bo)((0,a.bF)(u,{flat:"",label:"Cancelar",color:"red"},null,512),[[C]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(F,{modelValue:e.editLoadingSheetModal,"onUpdate:modelValue":l[3]||(l[3]=l=>e.editLoadingSheetModal=l)},{default:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(f,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{icon:"question_mark",color:"secondary","text-color":"white"}),l[7]||(l[7]=(0,a.Lk)("span",{class:"q-ml-sm"},"Deseas editar o visualizar la hoja de carga ?.",-1))])),_:1}),(0,a.bF)(h,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(u,{flat:"",label:"Visualizar",color:"primary",onClick:e.deleteRow},null,8,["onClick"]),[[C]]),(0,a.bo)((0,a.bF)(u,{flat:"",label:"Editar",color:"warning"},null,512),[[C]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}t(239);var d=t(8734),r=t(455),s=(t(1597),t(4907)),c=t(660),u=t(53);const g=(0,a.pM)({name:"EventDay",setup(){const e=(0,r.rd)(),l=((0,r.lq)(),(0,s.A)()),t=(0,d.KR)(),n=(0,d.KR)([]),o=(0,d.KR)(),i=(0,d.KR)(!1),g=(0,d.KR)(!1),v=(0,d.KR)(!1),b=(0,d.KR)();function k(e){function l(e){return e<10?"0"+e:e}var t=new Date(e);return[l(t.getDate()),l(t.getMonth()+1),t.getFullYear()].join("/")}function m(e){o.value=e,i.value=!0}function f(){c.axios.delete(u.A.RestUrl+"Event/deleteEvent",{params:{idEvent:o.value}}).then((e=>{h()})).catch((e=>{}))}function h(){var e=u.A.RestUrl;c.axios.get(e+"Event/AllFutureEvent").then((e=>{console.log(e.data),n.value=e.data.map((e=>(e.eventDay=new Date(e.eventDay),e.eventStringDate=k(e.eventDay),e.class=e.eventConfirmed?"itemLoadSheetOk":"itemLoadSheet",e)))})).catch((e=>{console.log(e)}))}function p(e){console.log(e),b.value=e.hashEvent,e.indLoadingSheet?v.value=!0:g.value=!0}return(0,a.sV)((()=>{t.value=l.localStorage.getItem("User"),h()})),{events:n,deleteEventModal:i,newLoadingSheetModal:g,editLoadingSheetModal:v,goToEvent(l){e.push({path:`/event/${l}`})},newEvent(){e.push("newEvent")},deleteRow:f,askToDelete:m,openLoadingSheet:p}}});var v=t(2807),b=t(7716),k=t(3999),m=t(124),f=t(5173),h=t(3796),p=t(6031),F=t(1693),_=t(3718),C=t(558),w=t(3316),E=t(4189),A=t(3952),q=t(2669),L=t(8672),S=t(8582),y=t.n(S);const Q=(0,v.A)(g,[["render",i]]),D=Q;y()(g,"components",{QPage:b.A,QList:k.A,QItem:m.A,QItemSection:f.A,QItemLabel:h.A,QBtnGroup:p.A,QBtn:F.A,QPageSticky:_.A,QDialog:C.A,QCard:w.A,QCardSection:E.A,QAvatar:A.A,QCardActions:q.A}),y()(g,"directives",{ClosePopup:L.A})}}]);